(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Register"],{"0905":function(e,t,r){},"3f86":function(e,t,r){"use strict";var s=r("c18b"),o=r.n(s);o.a},"61f7":function(e,t,r){"use strict";function s(e){return!0}function o(e){var t=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;return t.test(e)}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return o}))},a9e32:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-container"},[r("div",{staticClass:"login-form"},[r("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"用户名注册",name:"first"}},[r("el-form",{ref:"loginForm",attrs:{model:e.registerForm,rules:e.registerRules,"auto-complete":"on","label-position":"left"}},[r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-user-solid"})]),r("el-input",{ref:"username",attrs:{placeholder:"用户名",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-lock"})]),r("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码（6-20位）",name:"password",tabindex:"2","auto-complete":"on"},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("i",{class:"password"===e.passwordType?"el-icon-view":"el-icon-minus"})])],1),r("el-form-item",{attrs:{prop:"passwordRepeat"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-lock"})]),r("el-input",{key:e.passwordType,ref:"passwordRepeat",attrs:{type:e.passwordType,placeholder:"确认密码（6-20位）",name:"passwordRepeat",tabindex:"3","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.passwordRepeat,callback:function(t){e.$set(e.registerForm,"passwordRepeat",t)},expression:"registerForm.passwordRepeat"}}),r("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[r("i",{class:"password"===e.passwordType?"el-icon-view":"el-icon-minus"})])],1),r("el-form-item",{attrs:{prop:"email"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-message"})]),r("el-input",{ref:"email",attrs:{placeholder:"邮箱（选填）",name:"email",type:"text",tabindex:"4","auto-complete":"on"},model:{value:e.registerForm.email,callback:function(t){e.$set(e.registerForm,"email",t)},expression:"registerForm.email"}})],1),r("el-form-item",{attrs:{prop:"phone"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-mobile-phone"})]),r("el-input",{ref:"phone",attrs:{placeholder:"手机号（选填）",name:"phone",type:"text",tabindex:"4","auto-complete":"on"},model:{value:e.registerForm.phone,callback:function(t){e.$set(e.registerForm,"phone",t)},expression:"registerForm.phone"}})],1),r("div",{attrs:{id:"remember"}},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住我")]),r("el-button",{staticStyle:{float:"right",padding:"0px"},attrs:{type:"text"}},[e._v("忘记密码")])],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e._v("注册")])],1)],1),r("el-tab-pane",{attrs:{label:"手机验证码注册",name:"second"}},[r("el-form",{ref:"loginFormPhone",attrs:{model:e.loginFormPhone,rules:e.loginRules,"auto-complete":"on","label-position":"left","hide-required-asterisk":""}},[r("el-form-item",{attrs:{prop:"username"}},[r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-user-solid"})]),r("el-input",{ref:"username",attrs:{placeholder:"手机号",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginFormPhone.username,callback:function(t){e.$set(e.loginFormPhone,"username",t)},expression:"loginFormPhone.username"}})],1),r("div",{staticStyle:{margin:"22px 0px","text-align":"left"}},[r("el-form-item",{attrs:{prop:"password",id:"valicode"}},[r("div",{staticStyle:{color:"white"},attrs:{slot:"label"},slot:"label"},[e._v("..")]),r("span",{staticClass:"svg-container"},[r("i",{staticClass:"el-icon-lock"})]),r("el-input",{key:e.passwordType,ref:"password",attrs:{placeholder:"验证码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLoginPhone(t)}},model:{value:e.loginFormPhone.password,callback:function(t){e.$set(e.loginFormPhone,"password",t)},expression:"loginFormPhone.password"}})],1),r("div",{staticStyle:{display:"inline-block","text-align":"right",width:"24%"}},[r("el-button",{staticStyle:{width:"90%"},attrs:{type:"primary",disabled:e.valiDisabled},on:{click:e.handleValiClicked}},[r("span",{directives:[{name:"show",rawName:"v-show",value:!e.valiDisabled,expression:"!valiDisabled"}]},[e._v("获取验证码")]),r("span",{directives:[{name:"show",rawName:"v-show",value:e.valiDisabled,expression:"valiDisabled"}]},[e._v("已发送("+e._s(e.count)+")")])])],1)],1),r("div",{attrs:{id:"remember"}},[r("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住我")])],1),r("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLoginPhone(t)}}},[e._v("登录／注册")])],1)],1)],1)],1)])},o=[],a=r("61f7"),n={name:"Register",data:function(){var e=this,t=function(e,t,r){Object(a["a"])(t)?r():r(new Error("请输入正确的用户名或邮箱"))},r=function(e,t,r){Object(a["b"])(t)?r():r(new Error("请输入正确的手机号"))},s=function(e,t,r){t.length<6?r(new Error("密码不可小于6位")):t.length>20?r(new Error("密码不可大于20位")):r()},o=function(t,r,s){r.length<6?s(new Error("密码不可小于6位")):r.length>20?s(new Error("密码不可大于20位")):r!==e.registerForm.password?s(new Error("密码不同")):s()},n=function(e,t,r){6!==t.length?r(new Error("验证码为6位")):r()};return{registerForm:{username:"lkx2",password:"123456",passwordRepeat:"123456",email:"",phone:""},loginFormPhone:{username:"",password:""},registerRules:{username:[{required:!0,trigger:"blur",validator:t}],password:[{required:!0,trigger:"blur",validator:s}],passwordRepeat:[{required:!0,trigger:"blur",validator:o}]},loginRules:{username:[{required:!0,trigger:"blur",validator:r}],password:[{required:!0,trigger:"blur",validator:n}]},loading:!1,passwordType:"password",redirect:void 0,activeName:"first",checked:!1,valiDisabled:!1,timer:null,count:60,TIME_COUNT:60}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleRegister:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/register",e.registerForm).then((function(){e.redirect="/login",e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},handleLoginPhone:function(){var e=this;this.$refs.loginFormPhone.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/quickLogin",e.loginFormPhone).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},handleValiClicked:function(){var e=this;this.timer||(this.count=this.TIME_COUNT,this.timer=setInterval((function(){e.count>0&&e.count<=e.TIME_COUNT?e.count--:(clearInterval(e.timer),e.timer=null,e.valiDisabled=!1)}),1e3)),console.log(this.loginFormPhone.username),this.$store.dispatch("user/getVeriCode",this.loginFormPhone.username).then((function(){console.log(response.body),e.$router.push({path:e.redirect||"/"})})).catch((function(){}))}}},i=n,l=(r("3f86"),r("ffe4"),r("2877")),c=Object(l["a"])(i,s,o,!1,null,"018848e4",null);t["default"]=c.exports},c18b:function(e,t,r){},ffe4:function(e,t,r){"use strict";var s=r("0905"),o=r.n(s);o.a}}]);
//# sourceMappingURL=Register.8ea58319.js.map