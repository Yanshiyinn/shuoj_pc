(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{2017:function(e,t,n){"use strict";var o=n("cafe"),i=n.n(o);i.a},"511c":function(e,t,n){},"61f7":function(e,t,n){"use strict";function o(e){return!0}function i(e){var t=/^(0|86|17951)?(13[0-9]|15[012356789]|17[678]|18[0-9]|14[57])[0-9]{8}$/;return t.test(e)}n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}))},"9ed6":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("div",{staticClass:"login-form"},[n("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"账号密码登录",name:"first"}},[n("el-form",{ref:"loginFormUser",attrs:{model:e.loginFormUser,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-user-solid"})]),n("el-input",{ref:"username",attrs:{placeholder:"用户名/邮箱",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginFormUser.username,callback:function(t){e.$set(e.loginFormUser,"username",t)},expression:"loginFormUser.username"}})],1),n("el-form-item",{attrs:{prop:"password"}},[n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-lock"})]),n("el-input",{key:e.passwordType,ref:"password",attrs:{type:e.passwordType,placeholder:"密码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLoginUser(t)}},model:{value:e.loginFormUser.password,callback:function(t){e.$set(e.loginFormUser,"password",t)},expression:"loginFormUser.password"}}),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("i",{class:"password"===e.passwordType?"el-icon-view":"el-icon-minus"})])],1),n("div",{attrs:{id:"remember"}},[n("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住我")]),n("el-button",{staticStyle:{float:"right",padding:"0px"},attrs:{type:"text"},on:{click:e.handleRegister}},[e._v("没有账号？注册")]),n("el-button",{staticStyle:{float:"right",padding:"0px 20px"},attrs:{type:"text"}},[e._v("忘记密码")])],1),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLoginUser(t)}}},[e._v("登录")])],1)],1),n("el-tab-pane",{attrs:{label:"手机验证码登录",name:"second"}},[n("el-form",{ref:"loginForm",attrs:{model:e.loginFormPhone,rules:e.loginRules,"auto-complete":"on","label-position":"left","hide-required-asterisk":""}},[n("el-form-item",{attrs:{prop:"username"}},[n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-user-solid"})]),n("el-input",{ref:"username",attrs:{placeholder:"手机号",name:"username",type:"text",tabindex:"1","auto-complete":"on"},model:{value:e.loginFormPhone.username,callback:function(t){e.$set(e.loginFormPhone,"username",t)},expression:"loginFormPhone.username"}})],1),n("div",{staticStyle:{margin:"22px 0px","text-align":"left"}},[n("el-form-item",{attrs:{prop:"password",id:"valicode"}},[n("div",{staticStyle:{color:"white"},attrs:{slot:"label"},slot:"label"},[e._v("..")]),n("span",{staticClass:"svg-container"},[n("i",{staticClass:"el-icon-lock"})]),n("el-input",{key:e.passwordType,ref:"password",attrs:{placeholder:"验证码",name:"password",tabindex:"2","auto-complete":"on"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLoginPhone(t)}},model:{value:e.loginFormPhone.password,callback:function(t){e.$set(e.loginFormPhone,"password",t)},expression:"loginFormPhone.password"}})],1),n("div",{staticStyle:{display:"inline-block","text-align":"right",width:"24%"}},[n("el-button",{staticStyle:{width:"90%"},attrs:{type:"primary",disabled:e.valiDisabled},on:{click:e.handleVeriClicked}},[n("span",{directives:[{name:"show",rawName:"v-show",value:!e.valiDisabled,expression:"!valiDisabled"}]},[e._v("获取验证码")]),n("span",{directives:[{name:"show",rawName:"v-show",value:e.valiDisabled,expression:"valiDisabled"}]},[e._v("已发送("+e._s(e.count)+")")])])],1)],1),n("div",{attrs:{id:"remember"}},[n("el-checkbox",{model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住我")])],1),n("el-button",{staticStyle:{width:"100%","margin-bottom":"30px"},attrs:{loading:e.loading,type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleLoginPhone(t)}}},[e._v("登录／注册")])],1)],1)],1)],1)])},i=[],r=(n("61f7"),{name:"Login",data:function(){var e=function(e,t,n){n()},t=function(e,t,n){t.length<6?n(new Error("密码不可小于6位")):t.length>20?n(new Error("密码不可大于20位")):n()};return{loginFormUser:{username:"lkx111",password:"123456"},loginFormPhone:{username:"13918712708",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}]},loading:!1,passwordType:"password",redirect:void 0,activeName:"first",checked:!1,valiDisabled:!1,timer:null,count:60,TIME_COUNT:60}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0}},methods:{handleRegister:function(){this.$router.push({path:"/register"})},showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLoginUser:function(){var e=this;this.$refs.loginFormUser.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginFormUser).then((function(t){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(t){e.loading=!1,console.log(t)}))}))},handleLoginPhone:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/quickLogin",e.loginFormPhone).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){e.loading=!1}))}))},handleVeriClicked:function(){var e=this;this.timer||(this.count=this.TIME_COUNT,this.valiDisabled=!0,this.timer=setInterval((function(){e.count>0&&e.count<=e.TIME_COUNT?e.count--:(clearInterval(e.timer),e.timer=null,e.valiDisabled=!1)}),1e3)),this.$store.dispatch("user/getVeriCode",this.loginFormPhone.username).then((function(){e.$router.push({path:e.redirect||"/"}),e.loading=!1})).catch((function(){}))}}}),s=r,a=(n("2017"),n("b612"),n("2877")),l=Object(a["a"])(s,o,i,!1,null,"598235bf",null);t["default"]=l.exports},b612:function(e,t,n){"use strict";var o=n("511c"),i=n.n(o);i.a},cafe:function(e,t,n){}}]);
//# sourceMappingURL=Login.e191ce88.js.map